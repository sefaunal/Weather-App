<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HomePage</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="/static/css/HomePage.css">

</head>
<body>
<h3>UNDER CONSTRUCTION</h3>

<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-12 col-md-4 col-sm-12 col-xs-12">
            <div class="card p-4">

                <div class="d-flex">
                    <h6 id="weatherCity" class="flex-grow-1">London</h6>
                    <h6 id="weatherTime">16:08</h6>
                </div>

                <div class="d-flex flex-column temp mt-5 mb-3">
                    <h1 id="weatherTemp" class="mb-0 font-weight-bold"> 13&deg; C </h1>
                    <span id="weatherStatus" class="small">Stormy</span>
                </div>

                <div class="d-flex">
                    <div class="temp-details flex-grow-1">
                        <p class="my-1">
                            <img src="https://i.imgur.com/B9kqOzp.png" height="25px" >
                            <span id="weatherWind" style="color: black"> 40 km/h  </span>
                        </p>

                        <p class="my-1">
<!--                            <i class="fa fa-tint mr-2" aria-hidden="true"></i>-->
                            <img src="https://cdn-icons-png.flaticon.com/512/1582/1582886.png" height="25px">
                            <span id="weatherHumidity" style="color: black"> 84% </span>
                        </p>

                        <p class="my-1">
                            <img src="https://cdn4.iconfinder.com/data/icons/electric-vehicle-set/25/Air_Pressure-512.png" height="25px" >
                            <span id="weatherPressure" style="color: black"> 1013hPa </span>
                        </p>

<!--                        <p class="my-1">-->
<!--                            <img src="https://i.imgur.com/wGSJ8C5.png" height="25px" >-->
<!--                            <span> 0.2h </span>-->
<!--                        </p>-->
                    </div>

                    <div>
                        <img id="weatherIcon" src="https://i.imgur.com/Qw7npIg.png" width="100px">
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<form id="SearchForm">
    <input id="searchInput" type="text" placeholder="Şehir.." required name="search">
    <button type="submit"><i class="fa fa-search"></i>search</button>
</form>



<script>
    $('#searchInput').val("Turkey")
    getWeatherFromAPI()

    function getWeatherFromAPI(){
        $.ajax({
            url: "https://api.weatherapi.com/v1/current.json?key=86c191b77d0f47e78bb175729220807 &q=" + $("#searchInput").val(),
            success: function (data, status, xhr){
                console.log(data);

                $("#weatherCity").text(data.location.name + " / " + data.location.country)
                $("#weatherTime").text(data.current.last_updated + " (Last Update)")
                $("#weatherTemp").text(parseFloat(data.current.temp_c) + " °C")
                $("#weatherStatus").text(data.current.condition.text)
                $("#weatherWind").text(data.current.wind_mph + "km/h")
                $("#weatherHumidity").text(data.current.humidity + "%")
                $("#weatherPressure").text(data.current.pressure_mb + " hPa")

                $("#weatherIcon").attr('src', data.current.condition.icon)

            }
        });
    }

    $("#SearchForm").submit(function (event){
        event.preventDefault();
        getWeatherFromAPI();
    });

</script>

</body>
</html>